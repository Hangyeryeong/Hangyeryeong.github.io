---
title: "윈도우 AGDLP & AGUDLP 전략 / Trust"

tags:
 - [Cisco]

category: Windows&Linux
toc: true
toc_sticky: true

date: 2023-03-31
last_modified_at: 2023-03-31

img: ":65일차.png"

---

<!-- outline-start -->


### 기본 구성<br/>

![Untitled](https://user-images.githubusercontent.com/117553252/229281231-3fb2353d-77d6-43f4-a64f-c6c342e55326.png)
<br/><br/>

#### WA 설정<br/>

![Untitled (1)](https://user-images.githubusercontent.com/117553252/229281121-6780b447-feea-4e9b-8f32-31839a87f417.png)
<br/><br/>

#### WD - DC + DNS 설치<br/>

![Untitled (2)](https://user-images.githubusercontent.com/117553252/229281126-90755ddd-9fb1-4ad8-8862-7f8106588b2f.png)
<br/><br/>

![Untitled (3)](https://user-images.githubusercontent.com/117553252/229281127-68da3f7f-70f0-436e-b38f-fad3059e7a4c.png)!
<br/><br/>

![Untitled (4)](https://user-images.githubusercontent.com/117553252/229281128-717a9aac-3f71-4216-ac2a-8c3cc5f27cb9.png)
<br/><br/>

![Untitled (5)](https://user-images.githubusercontent.com/117553252/229281129-1bd80724-8d72-4ef8-89ee-50af1b2e2928.png)
<br/><br/>

![5번째 추가](https://user-images.githubusercontent.com/117553252/229315201-df7ef1a0-4649-408d-be8f-2f3f8e43d01d.png)
<br/><br/>

![Untitled (6)](https://user-images.githubusercontent.com/117553252/229314985-8d459d78-688b-4888-a763-240bef868d7d.png)
<br/><br/>

![Untitled (7)](https://user-images.githubusercontent.com/117553252/229314989-2bb833b6-527c-4c61-a262-183917a42356.png)
<br/><br/>

![Untitled (8)](https://user-images.githubusercontent.com/117553252/229314992-cd45df47-f0f3-4a97-b1f7-743c366eeb40.png)
<br/><br/>

![Untitled (9)](https://user-images.githubusercontent.com/117553252/229314994-1c0e7b04-3824-4d24-a003-35d48502d742.png)
<br/><br/>

![Untitled (10)](https://user-images.githubusercontent.com/117553252/229314997-d6e1a1db-8831-4609-bf09-affe4613101f.png)
<br/><br/>

![Untitled (11)](https://user-images.githubusercontent.com/117553252/229315000-c0f80ded-53d4-462d-912a-f7b6b7759abf.png)
<br/><br/>

![Untitled (12)](https://user-images.githubusercontent.com/117553252/229315003-b5433fb8-8569-4e2d-8e47-f52362cd6577.png)
<br/><br/>

#### WD<br/>

![Untitled (13)](https://user-images.githubusercontent.com/117553252/229315005-69c86594-cf0c-4fbb-8ba3-efaa39cb1c07.png)
<br/><br/>

#### WE - Tree Root DC + DNS<br/>

![Untitled (14)](https://user-images.githubusercontent.com/117553252/229315010-2a627820-57b0-49cf-b6c0-943812e3bc76.png)
<br/><br/>

![Untitled (15)](https://user-images.githubusercontent.com/117553252/229315015-02cb2060-72e2-492e-bde3-33bdcc3c9d40.png)
<br/><br/>

![Untitled (16)](https://user-images.githubusercontent.com/117553252/229315017-3f31016f-2dab-4c29-89a6-9b9da3fc0f2a.png)
<br/><br/>

![Untitled (17)](https://user-images.githubusercontent.com/117553252/229315020-2347fc51-5484-4667-83b4-c6d75d301bad.png)
<br/><br/>

![Untitled (18)](https://user-images.githubusercontent.com/117553252/229315022-9b19c2c4-cc74-4a21-9ea5-73738a12af66.png)
<br/><br/>

![Untitled (19)](https://user-images.githubusercontent.com/117553252/229315025-601f5e0b-51be-4953-b626-735ebdc29a3d.png)
<br/><br/>

![Untitled (20)](https://user-images.githubusercontent.com/117553252/229315028-36cc845a-97a9-458f-82ef-07e5d54af331.png)
<br/><br/>

![Untitled (21)](https://user-images.githubusercontent.com/117553252/229315031-0348e677-cf3a-47aa-8c4c-32ad54298d1f.png)
<br/><br/>

![Untitled (22)](https://user-images.githubusercontent.com/117553252/229315033-68529c25-0408-45d1-9e47-2ea52829bb36.png)
<br/><br/>

![Untitled (23)](https://user-images.githubusercontent.com/117553252/229315036-566ad2ad-012e-443e-9467-f67e3037b213.png)
<br/><br/>

![Untitled (24)](https://user-images.githubusercontent.com/117553252/229315039-716291c1-5ae5-4587-8d31-d21e82d3eaf2.png)
<br/><br/>

![Untitled (25)](https://user-images.githubusercontent.com/117553252/229315041-5e488b0f-59b4-42e3-9e88-89e2e05b85dc.png)
<br/><br/>

![Untitled (26)](https://user-images.githubusercontent.com/117553252/229315044-479abc1d-8982-4b6a-bccc-4544d3fe21ad.png)
<br/><br/>

#### WF<br/>

![Untitled (27)](https://user-images.githubusercontent.com/117553252/229315048-42cf6ebd-6d5e-4e9b-beef-d3d76568e0f0.png)
<br/><br/>


### 계정 종류<br/>

![Untitled (28)](https://user-images.githubusercontent.com/117553252/229315051-689959e9-a441-45f1-9e6f-3de5180dec79.png)
<br/><br/>

![Untitled (29)](https://user-images.githubusercontent.com/117553252/229315053-3a71812b-bcff-47ca-911a-a93db5b173bd.png)
<br/><br/>

![Untitled (30)](https://user-images.githubusercontent.com/117553252/229315058-6ed7319d-4609-4cf0-bd81-756f854cfc20.png)
<br/><br/>

![4번째 추가](https://user-images.githubusercontent.com/117553252/229315205-33c2307d-909d-4452-95e6-4dc57ee18c0a.png)
<br/><br/>

![Untitled (31)](https://user-images.githubusercontent.com/117553252/229315062-2155313c-b500-4f4d-853c-6234720f2e2c.png)
<br/><br/>

#### 01. A local user account<br/>

- enables a user to log on to a specific computer to access resources on that computer.<br/><br/>


#### 02. A domain user account <br/>

- enables a user to log on to the domain to access network resources or to log on to an individual computer to access resources on that computer.<br/><br/>

#### 03. A built-in user account <br/>

- enables a user to perform administrative tasks or gain temporary access to network resources.<br/><br/>

#### Computer accounts <br/>

- Every computer running Microsoft Windows NT®, Windows 2000, or Windows XP, or a server running Windows Server 2003 that joins a domain, has a computer account. Like user accounts, computer accounts provide a way to authenticate and audit computer access to the network and to domain resources. Each computer account must be unique.<br/><br/>

#### Group accounts <br/>

- A group account is a collection of users, computers, or other groups. You can use groups to efficiently manage access to domain resources, which helps simplify administration. When you use groups, you assign permissions for shared resources, such as folders and printers, only once.rather than multiple times.to individual users.<br/><br/>


1. Membership. In Windows 2000 mixed mode, domain local groups can contain user accounts and global groups from any domain. In Windows 2000 native mode, domain local groups can contain user accounts, global groups, universal groups from any trusted domain, and domain local groups from the same domain.<br/><br/>

2. Can be a member of. In Windows 2000 mixed mode, a domain local group cannot be a member of any group. In Windows 2000 native mode, a domain local group can be a member of domain local groups from the same domain.<br/><br/>

3. Scope. A domain local group is visible only in its own domain.<br/><br/>

4. Permission for. You can assign permission that applies to the domain in which the domain local group exists.<br/><br/>


####  When to use domain local groups<br/>

- Use a domain local group when you want to assign access permissions to resources that are located in the same domain in which you create the domain<br/>

1. Membership. In Windows 2000 mixed mode, a global group can contain user accounts from the same domain. In Windows 2000 native mode and in Windows Server 2003 mode, global groups can contain user accounts and global groups from the same domain.<br/><br/>

2. Can be a member of. In Windows 2000 mixed mode, a global group can be a member of domain local groups in any trusted domain. In Windows 2000 native mode and in Windows Server 2003 mode, a global group can be a member of universal and domain local groups in any domain and can also be a member of global groups in the same domain.<br/><br/>

3. Scope. A global group is visible in its domain and all trusted domains, which include all of the domains in the forest.<br/><br/>

4. Permissions. You can assign permission to a global group that applies to all trusted domains<br/><br/>


#### When to use global groups <br/>

- Because global groups are visible throughout the forest, do not create them for the purpose of allowing users access to domain-specific resources. Use global groups to organize users or groups of users. A domain local group is more appropriate to control user access to resources within a single domain.<br/><br/>

1.  Membership. You cannot create universal security groups in Windows 2000 mixed mode. In both Windows 2000 native mode and Windows Server 2003 mode, universal groups can contain user accounts, global groups, and other universal groups from any domain in the forest.<br/><br/>

2. Can be a member of. The universal group is not applicable in Windows 2000 mixed mode. In Windows 2000 native mode, the universal group can be a member of domain local and universal groups from any domain.<br/><br/>

3. Scope. Universal groups are visible in all domains in the forest.<br/><br/>

4. Permissions. You can assign permission to a universal group that applies to all domains in the forest.<br/><br/>

####  When to use universal groups <br/>

- Use universal groups when you want to nest global groups. This way, you can assign permissions to related resources in multiple domains. A Windows Server 2003 domain must be in Windows 2000 native mode or Windows Server 2003 mode to use universal security groups. You can use universal distribution groups in a Windows Server 2003 domain that is in Windows 2000 mixed mode or higher.<br/><br/>

### WA<br/>

![Untitled (32)](https://user-images.githubusercontent.com/117553252/229315065-d225eb64-5639-481f-bac3-96dd707650b9.png)
<br/><br/>


![Untitled (33)](https://user-images.githubusercontent.com/117553252/229315067-b3b247ba-36db-4e6a-ba89-71a8c838e5f7.png)
<br/><br/>


### Ex.<br/>

![Untitled (34)](https://user-images.githubusercontent.com/117553252/229315070-be8ad998-bed6-4c25-a319-8c87cba8107a.png)
<br/><br/>


### AGUDLP 전략<br/>

![Untitled (35)](https://user-images.githubusercontent.com/117553252/229315073-54955227-dd8b-4e40-aa92-36f27f7ae1a4.png)
<br/><br/>

### Trust<br/>

![Untitled (36)](https://user-images.githubusercontent.com/117553252/229315076-6759461c-8a2e-48a4-924a-57f7e1b2631f.png)
<br/><br/>

![Untitled (37)](https://user-images.githubusercontent.com/117553252/229315079-27f12d11-5c41-49c8-8645-a60838976bee.png)
<br/><br/>


#### Transitive vs. nontransitive trusts<br/>

1. domain D directly trusts domain E, which directly trusts domain F. Because both trusts are transitive, domain D indirectly trusts domain F and vice versa.  Transitive trusts are automatic. An example of transitive trust is a parent/child trust. <br/><br/>

2. Nontransitive trusts are not automatic and must be set up. the trust between a domain in one forest and a domain in another forest.<br/><br/>


#### Trust direction<br/>



1. If in domain B, you set up a one-way incoming trust between domain B and domain Q, users in domain B can be authenticated in domain Q. <br/><br/>

2. If you set up a one-way outgoing trust between domain B and domain Q, users in domain Q can be authenticated in domain B. <br/><br/>


#### WA<br/>

![Untitled (38)](https://user-images.githubusercontent.com/117553252/229315083-c94378ce-4cec-4a4c-8058-5b0b50e47aba.png)
<br/><br/>

![Untitled (39)](https://user-images.githubusercontent.com/117553252/229315086-b0acb8b6-18c9-4d36-8de3-9d190e2c9248.png)
<br/><br/>

![Untitled (40)](https://user-images.githubusercontent.com/117553252/229315088-d52bcf13-1683-4a58-81a7-f77a7762f03e.png)
<br/><br/>

![Untitled (41)](https://user-images.githubusercontent.com/117553252/229315092-4406eb90-7829-45d8-9575-c82ac7038a91.png)
<br/><br/>

![Untitled (42)](https://user-images.githubusercontent.com/117553252/229315095-7dfdd3d8-fbac-487f-8493-36195628849d.png)
<br/><br/>


### Trust Ex.<br/>

![Untitled (43)](https://user-images.githubusercontent.com/117553252/229315098-22b02a87-254c-4037-ade6-3ef00d254be7.png)
<br/><br/>

![Untitled (44)](https://user-images.githubusercontent.com/117553252/229315102-3d9033fa-eedd-4004-a348-a5a2e627d2b7.png)
<br/><br/>

![Untitled (45)](https://user-images.githubusercontent.com/117553252/229315105-0cb2c6ac-596f-4970-b277-2cbc52fc5687.png)
<br/><br/>

![Untitled (46)](https://user-images.githubusercontent.com/117553252/229315109-2a0ecf7e-23fa-4180-975b-b61f70fdd4a1.png)
<br/><br/>

![Untitled (47)](https://user-images.githubusercontent.com/117553252/229315111-3e5ef33d-34e0-40c2-8826-c57a22e1722e.png)
<br/><br/>

### 단방향 Trust<br/>

#### WA<br/>

![Untitled (48)](https://user-images.githubusercontent.com/117553252/229315114-ce84b17d-fa64-42f3-847d-d80c6404b86b.png)
<br/><br/>

![Untitled (49)](https://user-images.githubusercontent.com/117553252/229315117-7b8817e4-6389-4909-975c-6a138a4da111.png)
<br/><br/>

![Untitled (50)](https://user-images.githubusercontent.com/117553252/229315120-38cd5ba9-8d76-4b72-a253-8edc7e86af95.png)
<br/><br/>

![Untitled (51)](https://user-images.githubusercontent.com/117553252/229315122-9e1b22da-531e-44f4-bd68-b98f8166b754.png)
<br/><br/>

![Untitled (52)](https://user-images.githubusercontent.com/117553252/229315125-c22f4921-84ad-4156-bb3d-7a90ce028f26.png)
<br/><br/>

![Untitled (53)](https://user-images.githubusercontent.com/117553252/229315127-07c9ce26-f33b-446c-bc4c-fa927bf40702.png)
<br/><br/>

![Untitled (54)](https://user-images.githubusercontent.com/117553252/229315130-1614f5a5-4849-42a7-bdb8-090826b2fa45.png)
<br/><br/>

![Untitled (55)](https://user-images.githubusercontent.com/117553252/229315133-25eed09a-a370-46bd-ac34-d06aacc7fac6.png)
<br/><br/>

![Untitled (56)](https://user-images.githubusercontent.com/117553252/229315135-9f9c26ea-0c25-4dbd-a69a-d02fba12345e.png)
<br/><br/>

![Untitled (57)](https://user-images.githubusercontent.com/117553252/229315138-96619079-817f-42d4-9ffd-5aa1ea7f88f5.png)
<br/><br/>

#### WD<br/>

![Untitled (58)](https://user-images.githubusercontent.com/117553252/229315143-27b39306-9a96-4555-9b61-6bd5cdeae037.png)
<br/><br/>

![Untitled (59)](https://user-images.githubusercontent.com/117553252/229315146-1f5f6cb6-2310-47fc-b4da-1bd590dcbffd.png)
<br/><br/>

![Untitled (60)](https://user-images.githubusercontent.com/117553252/229315149-89175778-5def-4e26-89cd-2a8eca529a3d.png)
<br/><br/>

![Untitled (61)](https://user-images.githubusercontent.com/117553252/229315152-4c6ad183-00c4-479a-b405-ed780b38a3c2.png)
<br/><br/>

![Untitled (62)](https://user-images.githubusercontent.com/117553252/229315155-937703b1-3e19-4a3a-ba77-3e30eea3ddec.png)
<br/><br/>

![Untitled (63)](https://user-images.githubusercontent.com/117553252/229315158-cb6f03fc-d178-4da1-83ce-816deb29345c.png)
<br/><br/>

![Untitled (64)](https://user-images.githubusercontent.com/117553252/229315162-0c13344e-0fb4-4df1-93af-a1edb2fe0232.png)
<br/><br/>

#### 결과<br/>

![Untitled (65)](https://user-images.githubusercontent.com/117553252/229315164-ad419eee-cc22-4a6b-81db-8ea797c3be22.png)
<br/><br/>

![Untitled (66)](https://user-images.githubusercontent.com/117553252/229315167-bc10a206-3eb4-4dc0-9a8a-9c8bca834f9b.png)
<br/><br/>


### 양방향 Trust<br/>

![Untitled (67)](https://user-images.githubusercontent.com/117553252/229315170-066a9f0e-9f6b-4f73-9eb6-1c66d15ac5b0.png)
<br/><br/>

![Untitled (68)](https://user-images.githubusercontent.com/117553252/229315175-310a6b07-a562-4e12-a829-07cbb147a590.png)
<br/><br/>

### Trust 제거<br/>


![Untitled (69)](https://user-images.githubusercontent.com/117553252/229315178-36efd9f5-d911-4373-b349-cf8dc6c5204e.png)
<br/><br/>

#### WD<br/>

![Untitled (70)](https://user-images.githubusercontent.com/117553252/229315182-57b98f95-6d73-4420-8d4e-4785ccf1db67.png)
<br/><br/>


![Untitled (71)](https://user-images.githubusercontent.com/117553252/229315187-7cad7119-623b-43a8-a7fd-938a5996e7d7.png)

<br/><br/>

![Untitled (72)](https://user-images.githubusercontent.com/117553252/229315191-f6cd3308-f38d-4a43-9f35-01e21becd955.png)
<br/><br/>

![Untitled (73)](https://user-images.githubusercontent.com/117553252/229315195-86dc7f97-0207-4d0a-b20a-66173dae305e.png)
<br/><br/>